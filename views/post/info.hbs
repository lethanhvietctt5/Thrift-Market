<style>
  {{#each post.images}}
  .image{{@index}} {content: url({{this.path}})}

  {{/each}}
</style>

<div class="w-8/12 mx-auto h-auto border border-gray-200 flex">
  <div class="w-8/12 h-auto mt-12">
    <div class="carousel w-full">
      <section class="mx-auto max-w-2xl" style="height: fit-content;">
        <div class="shadow-2xl relative h-96">
          <!-- large image on slides -->
          {{#each post.images}}
          <div class="mySlides hidden h-full">
            <div class="flex flex-col justify-center h-full"><div class="image{{@index}} mx-auto object-cover max-w-md max-h-72  "></div></div>
          </div>
          {{/each}}
        
          <!-- butttons -->
          <a class="absolute left-0 inset-y-0 flex items-center px-4 text-green-400 hover:text-gray-800 cursor-pointer text-3xl font-extrabold"
            onclick="plusSlides(-1)">❮</a>
          <a class="absolute right-0 inset-y-0 flex items-center px-4 text-green-400 hover:text-gray-800 cursor-pointer text-3xl font-extrabold"
            onclick="plusSlides(1)">❯</a>
        
          <!-- smaller images under description -->
          <div class="flex justify-center h-auto w-full bg-green-800">
            {{#each post.images}}
            <div class="h-auto">
              <img class="image{{@index}} description h-24 opacity-50 hover:opacity-100 cursor-pointer bg-black" src="#" onclick="currentSlide({{@index}} + 1)"/>
            </div>
            {{/each}}
          </div>
        </div>
      </section>
    </div>
    <div class="details w-full h-auto mt-32">
      <div class="title flex">
        <div class="ml-4">
          <div class="name text-xl font-semibold">{{post.title}}</div>
          <div class="price text-red-600 font-semibold">{{formatCurrency post.price}} đ</div>
        </div>
        <div></div>
      </div>
      <div class="description flex flex-col mt-12 mx-4 mb-32">
        {{{post.content}}}
      </div>
    </div>
  </div>
  <div class="w-4/12 mt-12 ">
    <div class="info-shop h-16 m-4 flex">
      <div class="w-1/6 avatar rounded-full m-1 my-auto bg-gray-400"></div>
      <div class="w-1/2 h-4/5 m-1 my-auto">{{author_name}}</div>
      <div class="w-1/3 h-4/5 m-1 my-auto flex">
        <button class=" hover:bg-green-800 text-white bg-green-600 font-semibold text-xs py-2 px-4 rounded m-auto">Thông
          tin người
          bán</button>
      </div>
    </div>
    <div class="rate h-16 m-4 flex">
      <div class="w-full h-4/5 m-1 my-auto">
        <div class="text-center">Người bán</div>
        <div class="flex justify-center mt-1 text-xl"><i class="fas fa-store-alt text-green-600"></i></div>
      </div>
    </div>
    <div
      class="mess h-12 m-4 border rounded font-semibold border-green-600 text-green-600 flex justify-center items-center">
      Chat với người bán<span class="ml-3 text-xl"><i class="far fa-comment-dots"></i></span></div>
  </div>
</div>

{{#section "js"}}
<script type="text/javascript" src="/js/info.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
<script>

  {{#each post.images}}
  {{/each}}

  //JS to switch slides and replace text in bar//
    var slideIndex = 1;
    showSlides(slideIndex);

    function plusSlides(n) {
      showSlides(slideIndex += n);
    }

    function currentSlide(n) {
      showSlides(slideIndex = n);
    }

    function showSlides(n) {
      var i;
      var slides = document.getElementsByClassName("mySlides");
      var dots = document.getElementsByClassName("description");
      if (n > slides.length) {
        slideIndex = 1
      }
      if (n < 1) {
        slideIndex = slides.length
      }
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" opacity-100", "");
      }
      slides[slideIndex - 1].style.display = "block";
      dots[slideIndex - 1].className += " opacity-100";
    }
</script>
{{/section}}